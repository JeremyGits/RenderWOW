/* WOW theme for Mermaid – Eraser-ish vibe (updated)
   - Brighter edges
   - High-contrast edge label chips
   - Colored/tinted subgraph containers (UE-style)
*/

:root {
  --wow-bg: #0f1216;

  --wow-panel: #131820;
  --wow-card: #161c26;
  --wow-card-2: #192231;
  --wow-stroke: #2a3444;

  --wow-text: #e6eefc;
  --wow-text-dim: #9db0c9;

  --wow-accent: #7aa2ff;   /* UI hover accent */
  --wow-accent-2: #58d3ff; /* spare accent */

  --wow-green: #6ee7b7;
  --wow-yellow: #fde68a;
  --wow-red: #fca5a5;

  --wow-shadow: rgba(7, 10, 14, 0.55);

  /* NEW: edge + chip palette */
  --wow-edge: #9be0ff;
  --wow-edge-chip-bg: rgba(16,28,56,.92);
  --wow-edge-chip-text: #eef7ff;
}

/* Page BG (optional) */
html[data-theme="dark"], body {
  background: var(--wow-bg);
}

/* Mermaid container tweaks */
#preview svg {
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
  display: block;
}

/* ───────────────────────────────── Nodes / Clusters ───────────────────────── */

#preview .node rect,
#preview .node circle,
#preview .node polygon {
  fill: var(--wow-card);
  stroke: var(--wow-stroke);
  stroke-width: 1.4px;
  rx: 10px; ry: 10px;
  filter: drop-shadow(0 6px 14px rgba(0,0,0,.35));
}

#preview .cluster rect {
  fill: var(--wow-card-2);
  stroke: var(--wow-stroke);
  stroke-width: 1.6px;
  rx: 18px; ry: 18px;
  filter: drop-shadow(0 10px 28px rgba(0,0,0,.38));
}

/* Colored/tinted subgraph variants (apply with :::g-<name> on the subgraph) */
#preview .cluster.g-gold   > rect { fill: rgba(233,196,106,.12); stroke:#e9c46a }
#preview .cluster.g-sky    > rect { fill: rgba( 56,189,248,.12); stroke:#38bdf8 }
#preview .cluster.g-emerald> rect { fill: rgba( 16,185,129,.12); stroke:#34d399 }
#preview .cluster.g-purple > rect { fill: rgba(168, 85,247,.12); stroke:#a855f7 }
#preview .cluster.g-rose   > rect { fill: rgba(244, 63, 94,.12); stroke:#f43f5e }
#preview .cluster.g-orange > rect { fill: rgba(251,146, 60,.12); stroke:#fb923c }
#preview .cluster.g-indigo > rect { fill: rgba( 99,102,241,.12); stroke:#6366f1 }

/* Improve title contrast on tinted clusters */
#preview .cluster.g-gold   .label text,
#preview .cluster.g-sky    .label text,
#preview .cluster.g-emerald.label text,
#preview .cluster.g-purple .label text,
#preview .cluster.g-rose   .label text,
#preview .cluster.g-orange .label text,
#preview .cluster.g-indigo .label text {
  fill:#eef7ff; font-weight:700; letter-spacing:.2px;
}

/* Fallback cluster label */
#preview .cluster .label text { fill: var(--wow-text); font-weight:600 }

/* Labels (nodes etc.) */
#preview .node .label,
#preview .label { fill: var(--wow-text); }

/* ───────────────────────────────── Edges / Markers ────────────────────────── */

#preview .edgePath path.path {
  stroke: var(--wow-edge);
  stroke-width: 2.2px;
  opacity: 1;
  stroke-linecap: round;
  stroke-linejoin: round;
  filter: drop-shadow(0 0 2px rgba(155,224,255,.35));
}

#preview .marker {
  fill: var(--wow-edge);
  opacity: 1;
}

/* Edge labels as “chips” */
#preview .edgeLabel rect {
  fill: var(--wow-edge-chip-bg);
  stroke: var(--wow-edge);
  rx: 7px; ry: 7px;
}
#preview .edgeLabel .label,
#preview .edgeLabel .label tspan,
#preview .edgeLabel text {
  fill: var(--wow-edge-chip-text);
  font-weight: 600;
}

/* ───────────────────────────────── Sequences / Notes ─────────────────────── */

#preview .sequence .actor rect,
#preview .sequence .labelBox {
  fill: var(--wow-card-2);
  stroke: var(--wow-stroke);
  rx: 8px; ry: 8px;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.5));
}

#preview .sequence .messageLine0,
#preview .sequence .messageLine1 {
  stroke: #a6b9d8;
}

#preview .note {
  fill: #1f2937;
  stroke: #3b4454;
  rx: 8px; ry: 8px;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.5));
}
#preview .note .label { fill: var(--wow-text-dim); }

/* ───────────────────────────────── Sections / Titles ─────────────────────── */

#preview .section0, #preview .section2, #preview .section4 { fill: rgba(80,160,255, .03) }
#preview .section1, #preview .section3, #preview .section5 { fill: rgba(90,200,255, .03) }

#preview .title { fill: var(--wow-text); font-weight: 600 }

/* Hover affordance */
#preview .node:hover rect {
  stroke: var(--wow-accent);
  box-shadow: 0 0 0 1px var(--wow-accent) inset;
}

/* Slight text edge for crispness */
#preview text { paint-order: stroke; stroke: rgba(0,0,0,0.08); stroke-width: 0.6px; }






/* Force bright edge colors and readable chips */
#preview svg .edgePath path.path{
  stroke:#9be0ff !important;
  stroke-width:2.2px !important;
  opacity:1 !important;
  stroke-linecap:round; stroke-linejoin:round;
  filter: drop-shadow(0 0 2px rgba(155,224,255,.35));
}
#preview svg .marker{ fill:#9be0ff !important; opacity:1 !important; }

#preview svg .edgeLabel rect{
  fill:rgba(16,28,56,.92) !important;
  stroke:#9be0ff !important;
  rx:7px; ry:7px;
}
#preview svg .edgeLabel .label,
#preview svg .edgeLabel .label tspan,
#preview svg .edgeLabel text{
  fill:#eef7ff !important;
  font-weight:600 !important;
}

/* Colored/tinted subgraph variants (UE-style) */
#preview .cluster.g-gold   > rect{ fill: rgba(233,196,106,.12); stroke:#e9c46a }
#preview .cluster.g-sky    > rect{ fill: rgba( 56,189,248,.12); stroke:#38bdf8 }
#preview .cluster.g-emerald> rect{ fill: rgba( 16,185,129,.12); stroke:#34d399 }
#preview .cluster.g-purple > rect{ fill: rgba(168, 85,247,.12); stroke:#a855f7 }
#preview .cluster.g-rose   > rect{ fill: rgba(244, 63, 94,.12); stroke:#f43f5e }
#preview .cluster.g-orange > rect{ fill: rgba(251,146, 60,.12); stroke:#fb923c }
#preview .cluster.g-indigo > rect{ fill: rgba( 99,102,241,.12); stroke:#6366f1 }

#preview .cluster.g-gold .label text,
#preview .cluster.g-sky .label text,
#preview .cluster.g-emerald .label text,
#preview .cluster.g-purple .label text,
#preview .cluster.g-rose .label text,
#preview .cluster.g-orange .label text,
#preview .cluster.g-indigo .label text{
  fill:#eef7ff; font-weight:700; letter-spacing:.2px;
}
